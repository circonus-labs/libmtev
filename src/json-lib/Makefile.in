.SUFFIXES:	.lo

Q=
ifeq ($(V),)
        Q=@
endif

CC=@CC@
CPPFLAGS=-I. -I.. @CPPFLAGS@
CFLAGS=@CFLAGS@ @CFLAGSEXTRAS@
SHCFLAGS=@SHCFLAGS@ @CFLAGSEXTRAS@
DEPFLAGS=@DEPFLAGS@
LDFLAGS=@LDFLAGS@
AR=@AR@
RANLIB=@RANLIB@
LIBS=@LIBS@
INSTALL=@INSTALL@

top_srcdir=@top_srcdir@

OBJS=mtev_arraylist.o mtev_debug.o mtev_json_object.o mtev_json_tokener.o mtev_json_util.o \
	mtev_linkhash.o mtev_printbuf.o

all:

.c.lo:
	$(Q)$(CC) $(CPPFLAGS) $(SHCFLAGS) -c $< -o $@
	@echo "- compiling $<"

.c.o:
	$(Q)$(CC) $(CPPFLAGS) $(CFLAGS) -c $<
	@echo "- compiling $<"

clean:
	rm -f *.o *.lo

distclean:	clean
	rm -f Makefile

Makefile.dep:
	$(CC) $(CPPFLAGS) $(CFLAGS) $(DEPFLAGS) *.c > Makefile.dep
	$(top_srcdir)/buildtools/culldeps.sh Makefile.dep

include Makefile.dep

